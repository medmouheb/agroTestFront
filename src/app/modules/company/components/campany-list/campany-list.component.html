<div class="main-content">
  <div class="d-flex flex-wrap justify-content-between align-items-center gap-2">

    <div class="d-flex gap-2">
      <button class="btn btn-add btn-outline-success btn-sm btn-action  style-button" (click)="onClickAdd()"
        [title]="'btns.add' | translate">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#107bfff2 " class="bi bi-folder-plus"
          viewBox="0 0 16 16">
          <path
            d="m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2Zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672Z" />
          <path
            d="M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5Z" />
        </svg>
        <span class="style-title"> {{'menu.add-company'|translate}}</span>
      </button>

    </div>


    <div class="btn" style="background-color: rgba(236, 236, 236, 0.6901960784); padding: 0% 1% 0% 1%;">
      <label class="pure-material-switch">
        <input type="checkbox" [(ngModel)]="isChecked" (change)="onCheckboxChange()">
        <span class="style-text2"> {{'Go To Trash' | translate}}</span>
      </label>
    </div>


    <div class="form-group has-search">
      <span class="fa fa-search form-control-feedback"></span>
      <input style="border-radius: 25px;padding-left: 20px;" #search (input)="onFilterChange(search.value)" type="text"
        class="form-control bg-white" placeholder="{{'Search by name'|translate}}">
    </div>
  </div>

  <div *ngIf="affiche==false" class="datatable">
    <ng-container *ngIf="loading">
      <app-spinner></app-spinner>
    </ng-container>

    <ng-container *ngIf="!loading && companyPage.empty">
      <app-no-data></app-no-data>
    </ng-container>

    <div>
      <table aria-label="" class="table table-striped" *ngIf="!loading && !companyPage.empty">
        <thead>
          <tr>
            <th>
              <strong>
                {{'actions' | translate}}
              </strong>
            </th>
            <th *ngIf="isAdmin">
              <strong>
                {{ "username" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByusername()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "namecompany" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByName()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "codecompany" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByCode()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>

            <th>
              <strong>
                {{ "City" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByCityName()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "City code" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortBycityCode()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ 'Address' | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByAddress()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "phone" | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByphone()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "Email" | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByEmail()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>

          </tr>
        </thead>
        <tbody class="text-sm" *ngIf="affiche==false">
          <tr class="row-data" *ngFor="let comp of companys">
            <td class="d-flex gap-4">
              <button class="text-primary datatable-action-btn" (click)="onClickEdit(comp.id!)"
                [title]="'btns.edit' | translate">
                <i style="color: #838383;font-size: larger;" class="fa fa-pencil color-edit"></i>
              </button>
              <button class="text-danger datatable-action-btn" (click)="onClickArchive(comp.id!)"
                [title]="'btns.delete' | translate">
                <i style="color: #838383;font-size: larger;" class="fa fa-trash"></i>
              </button>
            </td>
            <td *ngIf="isAdmin">
              {{ comp.username }}

            </td>
            <td>
              {{ comp.name }}

            </td>
            <td>
              {{ comp.code }}
            </td>
            <td>
              {{ comp.cityName }}
            </td>
            <td>
              {{ comp.cityCode }}
            </td>
            <td>
              {{ comp.address }}
            </td>
            <td>
              {{ comp.number }}
            </td>
            <td>
              {{ comp.email }}
            </td>


          </tr>

        </tbody>

      </table>
    </div>
  </div>


  <div *ngIf="affiche==true" class="datatable">
    <ng-container *ngIf="loading">
      <app-spinner></app-spinner>
    </ng-container>

    <ng-container *ngIf="!loading && companyPages.empty">
      <app-no-data></app-no-data>
    </ng-container>
    <div *ngIf="!loading && !companyPages.empty">
      <table aria-label="" class="table table-striped" *ngIf="!loading && !companyPages.empty">
        <thead>
          <tr>

            <th>
              <strong>
                {{'actions' | translate}}
              </strong>
            </th>
            <th *ngIf="isAdmin">
              <strong>
                {{ "username" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByusername()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>

            <th>
              <strong>
                {{ "namecompany" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByName()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "codecompany" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByCode()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>

            <th>
              <strong>
                {{ "City" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortByCityName()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "City code" | translate }}
                <a href="javascript:void(0);">
                  <svg (click)="sortBycityCode()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ 'Address' | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByAddress()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "phone" | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByphone()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>
            <th>
              <strong>
                {{ "Email" | translate }}

                <a href="javascript:void(0);">
                  <svg (click)="sortByEmail()" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-chevron-double-down custom-color" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z" />

                  </svg>
                </a>
              </strong>
            </th>


          </tr>
        </thead>
        <tbody class="text-sm">
          <tr class="row-data" *ngFor="let comp of companyss">
            <td class="d-flex gap-4">

              <button class="text-primary datatable-action-btn" (click)="onClickdisArchive(comp.id!)"
                [title]="'Restore line' | translate">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#838383" class="bi bi-recycle"
                  viewBox="0 0 16 16">
                  <path
                    d="M9.302 1.256a1.5 1.5 0 0 0-2.604 0l-1.704 2.98a.5.5 0 0 0 .869.497l1.703-2.981a.5.5 0 0 1 .868 0l2.54 4.444-1.256-.337a.5.5 0 1 0-.26.966l2.415.647a.5.5 0 0 0 .613-.353l.647-2.415a.5.5 0 1 0-.966-.259l-.333 1.242-2.532-4.431zM2.973 7.773l-1.255.337a.5.5 0 1 1-.26-.966l2.416-.647a.5.5 0 0 1 .612.353l.647 2.415a.5.5 0 0 1-.966.259l-.333-1.242-2.545 4.454a.5.5 0 0 0 .434.748H5a.5.5 0 0 1 0 1H1.723A1.5 1.5 0 0 1 .421 12.24l2.552-4.467zm10.89 1.463a.5.5 0 1 0-.868.496l1.716 3.004a.5.5 0 0 1-.434.748h-5.57l.647-.646a.5.5 0 1 0-.708-.707l-1.5 1.5a.498.498 0 0 0 0 .707l1.5 1.5a.5.5 0 1 0 .708-.707l-.647-.647h5.57a1.5 1.5 0 0 0 1.302-2.244l-1.716-3.004z" />
                </svg>
              </button>
              <button class="text-danger datatable-action-btn" (click)="onClickDelete(comp.id!)"
                [title]="'Delete permanently' | translate">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#838383"
                  class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                  <path
                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
                </svg>
              </button>

            </td>
            <td *ngIf="isAdmin">
              {{ comp.username }}

            </td>
            <td>
              {{ comp.name }}

            </td>
            <td>
              {{ comp.code }}
            </td>
            <td>
              {{ comp.cityName }}
            </td>
            <td>
              {{ comp.cityCode }}
            </td>
            <td>
              {{ comp.address }}
            </td>
            <td>
              {{ comp.number }}
            </td>
            <td>
              {{ comp.email }}
            </td>



          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <app-pagination [pageNumber]="pageNumber" [pageSize]="pageSize" [page]="companyPage"
    (onPageNumberChange)="onPageNumberChange($event)" (onPageSizeChange)="onPageSizeChange($event)">
  </app-pagination>

  <app-wizard-dialog [currentStep]="currentStep" [entity]="camp" [type]="'company'" [field]="null" #formModal>
    <app-stepper #stepper stepper [currentStep]="currentStep" [steps]="steps"
      (onStepChange)="onStepChange($event)"></app-stepper>
    <app-campany-from body [currentStep]="currentStep" [camp]="camp">

    </app-campany-from>
  </app-wizard-dialog>

  <app-confirm-dialog #archiveModal></app-confirm-dialog>
</div>